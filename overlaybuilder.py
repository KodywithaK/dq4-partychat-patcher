overlay = open("overlay_0038.bin", "wb")
overlay.seek(0x10)
rom = open("DQ4J.nds", "rb")

#code that starts party chat when b button is pressed
rom.seek(0x2CCFC)
data = rom.read(0x2C)
overlay.write(data)
overlay.write(b'\x50\xED\x0E\x02')
rom.seek(0x2CEA0)
data = rom.read(0x28)
overlay.write(data)
overlay.write(b'\x78\x76\x0C\x02')

#actual party chat code
rom.seek(0x3A138)
data = rom.read(0x1E8)
overlay.write(data)
rom.seek(0x3A358)
data = rom.read(0xA88)
overlay.write(data)
rom.seek(0x3B960)
data = rom.read(0x150)
overlay.write(data)
rom.seek(0x3D460)
data = rom.read(0x5C)
overlay.write(data)
rom.seek(0x4248C)
data = rom.read(0x54)
overlay.write(data)

#data read by party chat code
overlay.write(bytes("data/param/param_player_talk1.dat", "ascii"))
overlay.write(b'\x00\x00\x00\xDC\x0E\x1A\x02')
overlay.write(bytes("data/param/param_player_talk2.dat", "ascii"))
overlay.write(b'\x00\x00\x00\x04\x0F\x1A\x02')
overlay.write(bytes("data/param/param_player_talk3.dat", "ascii"))
overlay.write(b'\x00\x00\x00\x2C\x0F\x1A\x02')
overlay.write(bytes("data/param/param_player_talk4.dat", "ascii"))
overlay.write(b'\x00\x00\x00\x54\x0F\x1A\x02')
overlay.write(bytes("data/param/param_player_talk6.dat", "ascii"))
overlay.write(b'\x00\x00\x00\x7C\x0F\x1A\x02')
overlay.write(bytes("data/param/param_player_talk5.dat", "ascii"))
overlay.write(b'\x00\x00\x00\xA4\x0F\x1A\x02')
rom.seek(0xC1B40)
data = rom.read(0x108)
overlay.write(data)
rom.seek(0xC1C70)
data = rom.read(0x1D0)
overlay.write(data)
rom.seek(0xC1E68)
data = rom.read(0xD0)
overlay.write(data)
rom.seek(0xC1F60)
data = rom.read(0x130)
overlay.write(data)
rom.seek(0xC214C)
data = rom.read(0x9B0)
overlay.write(data)
rom.seek(0xC38F8)
data = rom.read(0x280)
overlay.write(data)
overlay.close()